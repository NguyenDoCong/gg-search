
import http from 'k6/http';
import { check, sleep } from 'k6';

const keywords = ["tra c\u1ee9u \u0111i\u1ec3m thi t\u1ed1t nghi\u1ec7p thpt 2025", "xe m\u00e1y \u0111i\u1ec7n", "s line", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 15 th\u00e1ng 7", "u23 \u0111\u00f4ng nam \u00e1", "anh \u0111\u00e0o h\u1ed5 ph\u00e1ch", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 16 th\u00e1ng 7", "\u0111\u1ea1i h\u1ecdc m\u1edf", "x\u1ed5 s\u1ed1 s\u00f3c tr\u0103ng", "\u0111\u1ea1i h\u1ecdc c\u00f4ng th\u01b0\u01a1ng", "thi\u00ean an", "ewc", "vinfast", "chelsea \u0111\u1ea5u v\u1edbi psg", "xe m\u00e1y \u0111i\u1ec7n vinfast", "esports world cup 2025", "h\u00e0n qu\u1ed1c \u0111\u1ea5u v\u1edbi nh\u1eadt b\u1ea3n", "xe \u0111i\u1ec7n honda", "grok", "lamine yamal", "california", "\u0111\u1ea1i h\u1ecdc c\u1ea7n th\u01a1", "psg \u0111\u1ea5u v\u1edbi real madrid", "go8", "garena", "preston \u0111\u1ea5u v\u1edbi liverpool", "ussh", "x\u1ed5 s\u1ed1 mi\u1ec1n b\u1eafc", "\u0111i\u1ec3m chu\u1ea9n \u0111\u1ea1i h\u1ecdc b\u00e1ch khoa h\u00e0 n\u1ed9i 2024", "x\u0103ng e10", "th\u0103ng qu\u00e2n h\u00e0m \u0111\u1ea1i t\u01b0\u1edbng tr\u1ecbnh v\u0103n quy\u1ebft", "\u0111\u1ea1i h\u1ecdc s\u01b0 ph\u1ea1m h\u00e0 n\u1ed9i", "h\u1ecdc vi\u1ec7n b\u00e1o ch\u00ed v\u00e0 tuy\u00ean truy\u1ec1n", "uef", "inter miami \u0111\u1ea5u v\u1edbi nashville", "kang seo ha", "trung qu\u1ed1c \u0111\u1ea5u v\u1edbi h\u1ed3ng k\u00f4ng", "rodrigo de paul", "chang jung lin", "\u0111\u1ea1i h\u1ecdc h\u00e0 n\u1ed9i", "h\u1ecdc vi\u1ec7n h\u00e0nh ch\u00ednh qu\u1ed1c gia", "h\u1ecdc vi\u1ec7n n\u00f4ng nghi\u1ec7p", "\u0111\u1ea1i h\u1ecdc s\u01b0 ph\u1ea1m tphcm", "\u0111\u1ea1t g", "hub", "fpt telecom", "\u0111\u1ea1i h\u1ecdc kinh t\u1ebf qu\u1ed1c d\u00e2n", "nh\u1eadt b\u1ea3n \u0111\u1ea5u v\u1edbi trung qu\u1ed1c", "\u0111\u00e0n c\u00e1 g\u1ed7", "gi\u00e1 x\u0103ng d\u1ea7u h\u00f4m", "jackpot vietlott", "x\u1ed5 s\u1ed1 b\u1ea1c li\u00eau", "gi\u00e1 heo h\u01a1i h\u00f4m nay", "liverpool", "tmu", "kqxsmb", "sinner", "gi\u00e1 c\u00e0 ph\u00ea h\u00f4m nay", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 10 th\u00e1ng 7", "xsmb", "nsnd m\u1ef9 uy\u00ean", "24h", "l\u1ecbch c\u00fap \u0111i\u1ec7n c\u1ea7n th\u01a1", "x\u1ed5 s\u1ed1 mi\u1ec1n trung", "time is", "apple", "h\u1ed3ng k\u00f4ng \u0111\u1ea5u v\u1edbi h\u00e0n qu\u1ed1c", "u-23 malaysia \u0111\u1ea5u v\u1edbi \u0111\u1ed9i tuy\u1ec3n b\u00f3ng \u0111\u00e1 u-23 qu\u1ed1c gia philippines", "chagee", "\ud55c\uad6d \ub300 \uc77c\ubcf8", "x\u1ed5 s\u1ed1 mi\u1ec1n trung", "xsmn", "kqxsmb", "nguy\u1ec5n tr\u01b0\u1eddng th\u1eafng", "pachuca \u0111\u1ea5u v\u1edbi monterrey", "xspy", "t1 vs geng", "t1 vs al", "u-23 indonesia \u0111\u1ea5u v\u1edbi \u0111\u1ed9i tuy\u1ec3n b\u00f3ng \u0111\u00e1 u-23 qu\u1ed1c gia brunei", "sxmn", "vnexpress", "b\u00f3ng \u0111\u00e1 v\u00f4 \u0111\u1ecbch c\u00e1c c\u00e2u l\u1ea1c b\u1ed9 ch\u00e2u \u00e2u", "t\u0103ng l\u01b0\u01a1ng c\u00f4ng ch\u1ee9c 2026", "flamengo \u0111\u1ea5u v\u1edbi s\u00e3o paulo", "vtv1", "\u0111i\u1ec3m chu\u1ea9n \u0111\u1ea1i h\u1ecdc s\u01b0 ph\u1ea1m h\u00e0 n\u1ed9i", "new holland", "btc", "x\u1ed5 s\u1ed1 mi\u1ec1n nam", "chung k\u1ebft ph\u00e1o hoa \u0111\u00e0 n\u1eb5ng 2025", "jenny huynh", "kqbd", "xoilac tv", "x\u1ed5 s\u1ed1 qu\u1ea3ng ng\u00e3i", "bongdaso", "carlos alcaraz", "xskt", "xoilac", "x\u1ed5 s\u1ed1 qu\u1ea3ng nam", "orlando city \u0111\u1ea5u v\u1edbi montr\u00e9al", "madueke", "superman", "mls", "z fold 7", "argentinos \u0111\u1ea5u v\u1edbi boca juniors", "malmo ff", "t1 vs geng", "thaksin shinawatra", "\u00fd \u0111\u1ea5u v\u1edbi t\u00e2y ban nha", "wimbledon 2025", "24", "nguy\u1ec5n xu\u00e2n son", "kqxsmb", "th\u1ec3 thao", "kqxsmb", "cakhia", "d66", "rio ngumoha", "bongdaplus", "c\u1ea3nh s\u00e1t giao th\u00f4ng", "v\u00e0ng sjc gi\u00e1 v\u00e0ng h\u00f4m nay", "24h.com.vn", "bongda", "si\u00eau c\u00fap nam m\u1ef9", "jump blackpink", "liverpool fc", "x\u1ed5 s\u1ed1 mi\u1ec1n trung", "24h", "x\u1ed5 s\u1ed1 mi\u1ec1n nam th\u1ee9 s\u00e1u", "bod\u00f8/glimt \u0111\u1ea5u v\u1edbi sandefjord", "novak djokovic", "mc ho\u00e0ng linh", "ulsan hyundai \u0111\u1ea5u v\u1edbi daegu", "vic", "ewc", "milly alcock", "kqxsmb", "twice", "kqxsmb", "weather tomorrow", "pag", "gi\u00e1 ti\u00eau h\u00f4m nay \u0111\u1eafk l\u1eafk", "chel", "kqbd", "forexfactory", "xoi", "grok 4", "gi\u00e1 x\u0103ng d\u1ea7u h\u00f4m", "hyeri", "apple store", "jo\u00e3o pedro", "lucas beraldo", "nguy\u1ec5n th\u1ecb tuy\u1ebfn", "iga swiatek", "ketqua", "v\u00f4 \u0111\u1ecbch b\u00f3ng \u0111\u00e1 n\u1eef ch\u00e2u \u00e2u", "kqbd hom nay", "tin t\u1ee9c 24h", "xstd", "b\u1ea3ng l\u01b0\u01a1ng gi\u00e1o vi\u00ean", "superman 2025", "msi 2025", "x\u1ed5 s\u1ed1 th\u1ee9 s\u00e1u", "bongdaso", "pedro neto", "ra\u00fal asencio", "v\u00f4 \u0111\u1ecbch b\u00f3ng \u0111\u00e1 n\u1eef ch\u00e2u \u00e2u", "mh17", "v\u00f4 \u0111\u1ecbch qu\u1ed1c gia mexico", "xstd", "m\u00e1y bay r\u01a1i \u1edf anh", "tri\u1ec7u vy", "b\u1ed9 c\u00f4ng an", "livescore", "paris saint germain", "b\u00f3ng \u0111\u00e1 h\u00f4m nay", "ketqua", "ketqua", "blackpink", "fabi\u00e1n ruiz pe\u00f1a", "malo gusto", "\ub0a0\uc528", "carlo ancelotti", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft \u00e1p th\u1ea5p nhi\u1ec7t \u0111\u1edbi", "xsdt", "bongda", "d\u1ecbch v\u1ee5 c\u00f4ng qu\u1ed1c gia", "jo\u00e3o neves", "ssi", "weather", "188bet", "sofia vergara", "fpt", "liver", "bl", "ngo\u1ea1i h\u1ea1ng anh", "jannik sinner", "donald trump", "l\u1ecbch c\u00fap \u0111i\u1ec7n c\u1ea7n th\u01a1", "b\u1ea3o anh", "li\u00ean qu\u00e2n", "24", "faker", "taylor fritz", "th\u1ec3 thao", "robert s\u00e1nchez", "ewc lol", "bong da 24h", "sxmn h\u00f4m nay", "amanda anisimova", "so xo mien bac", "pet mutation grow a garden", "crystal palace", "ca s\u0129 ki\u1ec1u nga", "gonzalo garc\u00eda", "ch\u1ecb \u0111\u1ea1i h\u1ecdc \u0111\u01b0\u1eddng", "la galaxy \u0111\u1ea5u v\u1edbi dc united", "reece james", "bongdaplus", "\u0111i\u1ec3m thi t\u1ed1t nghi\u1ec7p thpt", "th\u00e1i lan", "iga \u015bwi\u0105tek", "weather tomorrow", "mois\u00e9s caicedo", "coinmarketcap", "fpt play", "keonhacai", "nguy\u1ec5n t\u00e2n c\u01b0\u01a1ng", "t1 vs gen g msi", "ruler", "x\u1ed5 s\u1ed1 minh ng\u1ecdc - mi\u1ec1n b\u1eafc", "bongdalu", "v\u00f4 \u0111\u1ecbch qu\u1ed1c gia mexico", "b\u00e3o", "wtt", "h\u00e0 lan \u0111\u1ea5u v\u1edbi ph\u00e1p", "cakhia link", "sydney sweeney", "h\u1ed3ng t\u1ec9 nam kinh", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft tphcm", "nicolas jackson", "24h.com.vn", "enzo fern\u00e1ndez", "hpg", "xsmb 30", "ca", "bong da so", "apple tuy\u1ec3n d\u1ee5ng", "\u0111\u01b0\u1eddng l\u00ean \u0111\u1ec9nh olympia", "b52", "sxtd", "bongdalu", "v\u00f5 ch\u00ed c\u00f4ng", "nh\u1eadp code li\u00ean qu\u00e2n apl 2025", "o", "wimbledon final", "mu", "24h bong da", "tin the thao", "tennis", "delta force", "wtt", "2q", "tr\u1ea5n th\u00e0nh", "twitch", "s line lee soo hyuk", "diu dang mau nang tap 30", "xsnt", "phat nguoi", "ca", "12 con gi\u00e1p may m\u1eafn", "tr\u1ef1c ti\u1ebfp b\u00f3ng chuy\u1ec1n h\u00f4m nay", "xoso", "los angeles fc", "kq bong da", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft mi\u1ec1n b\u1eafc", "kudus", "jadon sancho", "xem phim", "club leon vs", "lion championship", "\u0111\u00e0o hoa \u00e1nh giang s\u01a1n", "base", "fifa club world cup games", "b", "tun ph\u1ea1m", "hit club", "los angeles vs", "ldg", "ketqua net", "ti\u1ec1n th\u01b0\u1edfng", "tin tuc 24h", "d\u00f9 l\u01b0\u1ee3n", "bybit", "b\u1ed9 c\u00f4ng an", "flashscore", "tuy\u00ean \u00e1n t\u1eadp \u0111o\u00e0n ph\u00fac s\u01a1n", "m\u00e1y bay mh17", "xs power", "x\u1ed5 s\u1ed1 v\u0169ng t\u00e0u", "forexfactory", "\ub0b4\uc77c \ub0a0\uc528", "f88", "k", "bao bong da", "tradingview"];

export let options = {
  vus: 80,
  duration: '60s',
};

export default function () {
  
  const url = 'http://127.0.0.1:8000/search';
  const keyword = keywords[Math.floor(Math.random() * keywords.length)];
  const payload = JSON.stringify({ query: keyword });
  
  const params = {
    headers: {
      'Content-Type': 'application/json',
      timeout: '120s',
    },
  };

  const res = http.post(url, payload, params);

  // LuÃ´n log láº¡i keyword + status + response
  const bodyText = res && res.body ? res.body.substring(0, 200) : 'No body returned';
  console.log(`ğŸ” Keyword: ${keyword}`);
  console.log(`ğŸ“¦ Status: ${res.status}`);
  console.log(`ğŸ“© Body: ${bodyText}`);
  
  check(res, {
    'status is 200': (r) => r.status === 200,
  });

  sleep(1);
}
