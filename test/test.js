
import http from 'k6/http';
import { check, sleep } from 'k6';

const keywords = ["b\u00e3o nhi\u1ec7t \u0111\u1edbi d\u1eef d\u1ed9i wipha (b\u00e3o s\u1ed1 6)", "arsenal \u0111\u1ea5u v\u1edbi milan", "nguy\u1ec5n c\u00f4ng tr\u00ed", "b\u00ecnh gold", "conan movie 28", "th\u00e1i lan campuchia", "b\u00e3o s\u1ed1 4", "ozzy osbourne", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 23 th\u00e1ng 7", "thanh g\u01b0\u01a1m di\u1ec7t qu\u1ef7 v\u00f4 h\u1ea1n th\u00e0nh", "fluminense \u0111\u1ea5u v\u1edbi palmeiras", "lck", "bragantino \u0111\u1ea5u v\u1edbi flamengo", "xsmn h\u00f4m x\u1ed5 s\u1ed1 mi\u1ec1n nam 23 7", "x\u0103ng e10", "thailand cambodia", "x\u1ed5 s\u1ed1 ng\u00e0y 23 th\u00e1ng 7", "u-23 vi\u1ec7t nam \u0111\u1ea5u v\u1edbi \u0111\u1ed9i tuy\u1ec3n b\u00f3ng \u0111\u00e1 u-23 qu\u1ed1c gia campuchia", "x\u1ed5 s\u1ed1 s\u00f3c tr\u0103ng ng\u00e0y 23 th\u00e1ng 7", "bbc", "wuchang", "di\u1ec7p l\u00e2m anh", "th\u1ee7 t\u01b0\u1edbng th\u00e1i lan", "m\u01b0a \u0111\u1ecf", "fenerbah\u00e7e \u0111\u1ea5u v\u1edbi al ittihad", "diu dang mau nang tap 37", "m\u1eb9 b\u1eafp", "cnn", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 22 th\u00e1ng 7", "\u00e2m l\u1ecbch h\u00f4m nay", "man utd \u0111\u1ea5u v\u1edbi leeds", "brann \u0111\u1ea5u v\u1edbi rb salzburg", "mu", "santos \u0111\u1ea5u v\u1edbi internacional", "u-23 l\u00e0o \u0111\u1ea5u v\u1edbi u-23 vi\u1ec7t nam", "l\u1eadt t\u00e0u qu\u1ea3ng ninh", "u-23 th\u00e1i lan \u0111\u1ea5u v\u1edbi u-23 myanmar", "x\u1ed5 s\u1ed1 mi\u1ec1n nam ng\u00e0y 21 th\u00e1ng 7", "nguy\u1ec5n xu\u00e2n ph\u00fac", "astronomer", "u-23 indonesia \u0111\u1ea5u v\u1edbi u-23 malaysia", "barcelona", "x\u1ed5 s\u1ed1 c\u1ea7n th\u01a1 ng\u00e0y 23 th\u00e1ng 7", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft h\u00e0 n\u1ed9i", "new york rb \u0111\u1ea5u v\u1edbi inter miami", "no hu", "\u00e2m l\u1ecbch", "reading \u0111\u1ea5u v\u1edbi tottenham", "mu vs arsenal", "x\u1ed5 s\u1ed1 mi\u1ec1n b\u1eafc ng\u00e0y 23 th\u00e1ng 7", "hdb", "vtv", "anh \u0111\u1ea5u v\u1edbi \u00fd", "x\u1ed5 s\u1ed1 b\u1ea1c li\u00eau ng\u00e0y 22 th\u00e1ng 7", "\u0111\u1ed7 \u0111\u1ee9c duy", "celtic \u0111\u1ea5u v\u1edbi newcastle", "nga ukraine", "x\u1ed5 s\u1ed1 ng\u00e0y 19 th\u00e1ng 7", "mls all stars", "mai ho\u00e0ng", "n\u1eef \u0111\u1ee9c vs n\u1eef t\u00e2y ban nha", "vtv5", "baba vanga", "\u0111\u1eb7ng ho\u00e0ng giang", "nukitashi anime", "urawa reds \u0111\u1ea5u v\u1edbi shonan", "12 con gi\u00e1p may m\u1eafn", "avatar 3", "ars vs", "vietjet", "flamengo \u0111\u1ea5u v\u1edbi fluminense", "christian n\u00f8rgaard", "x\u1ed5 s\u1ed1 c\u00e0 mau ng\u00e0y 21 th\u00e1ng 7", "d\u1ecbu d\u00e0ng m\u00e0u n\u1eafng t\u1eadp 35 vtv", "gi\u00e1 c\u00e0 ph\u00ea h\u00f4m nay", "obama", "wipha storm", "x\u1ed5 s\u1ed1 mi\u1ec1n trung", "okx", "tim nasional sepak bola u-23 filipina vs tim nasional sepak bola u-23 brunei", "b\u00e1ch ph\u00e2n v\u1ecb", "barca", "al nassr", "napoli", "sesko", "x\u1ed5 s\u1ed1 ph\u00fa y\u00ean ng\u00e0y 21 th\u00e1ng 7", "kristin cabot", "five88", "pumas unam \u0111\u1ea5u v\u1edbi pachuca", "t\u0103ng l\u01b0\u01a1ng n\u0103m 2026", "brandon ly", "ekitike", "\u0111\u1ed9i tuy\u1ec3n b\u00f3ng \u0111\u00e1 u-23 qu\u1ed1c gia philippines \u0111\u1ea5u v\u1edbi u-23 indonesia", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft tphcm", "dantri", "th\u1ee7y \u0111i\u1ec7n b\u1ea3n v\u1ebd", "ars", "\u0111\u1ea1i h\u1ecdc phenikaa", "xsvt 22/7", "t\u00f4 anh d\u0169ng", "manchester united", "twitch", "bayer leverkusen", "ch\u00e1y ch\u1ee3 th\u1ee7 \u0111\u1ee9c", "\ub0a0\uc528", "s\u00e2n bay gia b\u00ecnh", "ho\u00e0ng t\u1eed arab saudi", "ellen degeneres", "ket qua xo so", "\u0111o\u00e0n thi\u00ean \u00e2n", "fluminense \u0111\u1ea5u v\u1edbi cruzeiro", "ozzy osbourne guitarists", "vtv1 tr\u1ef1c ti\u1ebfp", "kyle hudlin", "ch\u1ee7 t\u1ecbch fed t\u1eeb ch\u1ee9c", "avatar 2", "th\u1ec3 thao", "nguy\u1ec5n tr\u1ea7n duy nh\u1ea5t", "b\u1ea3n \u0111\u1ed3 vi\u1ec7t nam", "lafc \u0111\u1ea5u v\u1edbi la galaxy", "ngh\u1ec7 s\u0129 c\u00f4ng t\u00e0i", "genshin code", "salt lake \u0111\u1ea5u v\u1edbi cincinnati", "de paul", "l\u00ea thi\u1ebft c\u01b0\u01a1ng", "2q", "fpt play", "san luis \u0111\u1ea5u v\u1edbi monterrey", "gody", "xu\u00e2n hinh", "diego le\u00f3n", "x\u1ed5 s\u1ed1 an giang ng\u00e0y 17 th\u00e1ng 7", "m\u1ee9c l\u01b0\u01a1ng t\u1ed1i thi\u1ec3u v\u00f9ng", "ketqua.net", "ch\u00e1y tr\u01b0\u01a1ng \u0111\u1ecbnh", "ufc 318", "gi\u1ea3i h\u1ea1ng nh\u1ea5t h\u00e0n qu\u1ed1c", "d\u00e2n tr\u00ed", "qu\u1ea3ng", "vietnamnet", "n\u1ee3 x\u1ea5u", "\ub0b4\uc77c \ub0a0\uc528", "kqxsmb", "khu\u1ea5t v\u0103n khang", "gi\u00e1 v\u00e0ng doji", "chido obi-martin", "ajc", "kups \u0111\u1ea5u v\u1edbi kairat", "tuoitre", "x\u1ed5 s\u1ed1 mi\u1ec1n b\u1eafc h\u00f4m nay", "tema hari anak nasional 2025", "th\u1eddi s\u1ef1", "tr\u1ea7n \u0111\u1ee9c th\u1eafng", "napoli vs", "quy \u0111\u1ed5i \u0111i\u1ec3m", "muc giam tru gia canh", "gemini", "world pool championship 2025", "vtv", "th\u1ec3 thao", "u23 philippines vs u23 brunei", "bb tr\u1ea7n", "wonder sea", "vix", "teams", "nicki minaj", "boca juniors \u0111\u1ea5u v\u1edbi uni\u00f3n", "nukitashi the anime", "jun ph\u1ea1m", "ketqua", "seoul \u0111\u1ea5u v\u1edbi ulsan hyundai", "ukraine", "twitch", "\u53f0\u98a86\u53f7 (\u30a6\u30a3\u30d1\u30fc)", "dk1", "th\u1eddi ti\u1ebft h\u00e0 n\u1ed9i ng\u00e0y mai", "t\u1ef7 gi\u00e1 y\u00ean nh\u1eadt", "mega dragonite", "b\u00f3ng \u0111\u00e1 v\u00f4 \u0111\u1ecbch c\u00e1c c\u00e2u l\u1ea1c b\u1ed9 ch\u00e2u \u00e2u", "law and the city", "phan hi\u1ec3n", "c\u00fap fa trung qu\u1ed1c", "t\u1eed vi ng\u00e0y 19 7", "dantri.com.vn", "bk8", "soha", "toby collyer", "ny red bulls vs inter miami", "xs vietlott h\u00f4m nay", "th\u1ee5y \u0111i\u1ec3n \u0111\u1ea5u v\u1edbi anh", "l\u00ea h\u1ed3ng anh", "d\u1ecbch v\u1ee5 c\u00f4ng qu\u1ed1c gia", "\ub808\ub529 \ub300 \ud1a0\ud2b8\ub118", "doc bao", "anh trai v\u01b0\u1ee3t ng\u00e0n ch\u00f4ng gai", "gi\u00e1 ti\u00eau h\u00f4m nay", "c\u01b0\u1ee3c b\u00f3ng", "s line", "jsol", "kitsune grow a garden", "fpt", "weather", "mbs", "ewc 2025", "b\u00e1o tu\u1ed5i tr\u1ebb jack", "b\u00e1o c\u00f4ng an", "code", "xem bong chuyen truc tiep", "nguy\u1ec5n tr\u1ecdng ngh\u0129a", "haka vs", "jack grealish", "c\u00e1ch ch\u1ee9c", "l\u1ecbch c\u00fap n\u01b0\u1edbc", "nguy\u1ec5n duy ng\u1ecdc", "b\u00e3i bi\u1ec3n s\u1ea7m s\u01a1n", "weather tomorrow", "venus williams", "da ga truc tiep", "weather", "tra c\u1ee9u \u0111i\u1ec3m thi \u0111\u00e1nh gi\u00e1 n\u0103ng l\u1ef1c b\u1ed9 c\u00f4ng an 2025", "w88", "vn", "xavi simons", "lee jun hyuk", "perplexity", "gi\u1ea3i h\u1ea1ng nh\u1ea5t h\u00e0n qu\u1ed1c", "th\u1eddi ti\u1ebft \u0111\u00e0 n\u1eb5ng", "the nice guy", "bruce willis", "s\u1ed1 mi\u1ec1n nam th\u1ee9 hai h\u00e0ng tu\u1ea7n", "cristiano ronaldo", "ty gia vietcombank", "gwangju \u0111\u1ea5u v\u1edbi gimcheon sangmu", "2 ng\u00e0y 1 \u0111\u00eam", "china open badminton 2025", "ana ivanovic", "tot vs", "ch\u00e1y \u1edf gi\u1ea3i ph\u00f3ng", "v\u00f5 ho\u00e0ng minh khoa", "wind", "xs quang ngai", "\u0111\u00e0 n\u1eb5ng", "thanh nien", "kim dong su", "mkoi", "okx", "fantastic four", "atl\u00e9tico san luis vs monterrey", "man united", "tin t\u1ee9c", "b\u1ea3o hi\u1ec3m y t\u1ebf", "afamily", "forex factory", "vtv6", "xem bong chuyen truc tuyen", "x\u1ed5 s\u1ed1 ng\u00e0y h\u00f4m nay", "hpg", "koi grow a garden", "l\u00ea minh h\u01b0ng", "h", "shinhan", "palmeiras vs atletico mineiro", "tr\u1ef1c ti\u1ebfp \u0111\u00e1 g\u00e0", "flamengo vs fluminense", "b\u00e1o nh\u00e2n d\u00e2n", "epl", "docbao.vn", "c\u1ea3i c\u00e1ch ti\u1ec1n l\u01b0\u01a1ng", "mandiri cup 2025", "k\u1ebft qu\u1ea3 x\u1ed5 s\u1ed1 kh\u00e1nh h\u00f2a", "okx", "teams", "tin t\u1ee9c online", "quay thu mb", "xsmn 17/7/2025", "delta", "l\u1ecbch thi \u0111\u1ea5u u23", "d\u1ef1 b\u00e1o th\u1eddi ti\u1ebft b\u1eafc ninh", "email", "gi\u1ea3i ngo\u1ea1i h\u1ea1ng trung qu\u1ed1c", "ldg", "choo young woo", "h\u1ecdc vi\u1ec7n an ninh", "usyk", "th\u1eddi ti\u1ebft h\u00e0 t\u0129nh", "flash wolves", "ph\u1ea1m minh ch\u00ednh", "ttxvn", "vpb", "hoadondientu", "bi\u1ec3n thi\u00ean c\u1ea7m", "kenh 14", "x\u1ed5 s\u1ed1 mi\u1ec1n b\u1eafc 30 ng\u00e0y", "tcbs", "l\u1ecbch c\u00fap \u0111i\u1ec7n c\u1ea7n th\u01a1", "vne", "tom cruise", "hit club", "ktp \u0111\u1ea5u v\u1edbi inter turku", "thpt \u0111\u1ed7 m\u01b0\u1eddi", "garena", "\u0111\u00e0 l\u1ea1t", "houston dynamo \u0111\u1ea5u v\u1edbi philadelphia", "l\u1ecbch b\u00f3ng \u0111\u00e1 h\u00f4m nay", "chovy", "newjeans", "thanhnien", "l\u1ecbch c\u00fap \u0111i\u1ec7n", "riot", "f88", "de bruyne", "bao dan tri", "sun", "th\u00e1i lan", "ca nh\u1ea1c", "ti\u1ec1n th\u01b0\u1edfng", "tienphong", "th\u1ee7 t\u01b0\u1edbng th\u00e1i lan", "arsenal", "s\u1ebfu \u0111\u1ea7u \u0111\u1ecf", "hust", "hsbc", "fc"];

export let options = {
  vus: 80,
  duration: '60s',
};

export default function () {
  
  const url = 'http://127.0.0.1:8000/search';
  const keyword = keywords[Math.floor(Math.random() * keywords.length)];
  const payload = JSON.stringify({ query: keyword });
  
  const params = {
    headers: {
      'Content-Type': 'application/json',
      timeout: '120s',
    },
  };

  const res = http.post(url, payload, params);

  // LuÃ´n log láº¡i keyword + status + response
  const bodyText = res && res.body ? res.body.substring(0, 200) : 'No body returned';
  console.log(`ğŸ” Keyword: ${keyword}`);
  console.log(`ğŸ“¦ Status: ${res.status}`);
  console.log(`ğŸ“© Body: ${bodyText}`);
  
  check(res, {
    'status is 200': (r) => r.status === 200,
  });

  sleep(1);
}
